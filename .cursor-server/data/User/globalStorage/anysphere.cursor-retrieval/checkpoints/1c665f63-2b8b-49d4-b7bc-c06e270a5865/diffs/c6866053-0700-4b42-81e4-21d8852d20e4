{"fsPath":"\\home\\hendo420\\soraFeed\\src\\components\\VideoFeed.tsx","fileUuid":"c6866053-0700-4b42-81e4-21d8852d20e4","fileSizeBytes":8424,"numLines":266,"diffChanges":[{"originalStartLineNumberOneIndexed":5,"originalEndLineNumberExclusiveOneIndexed":6,"modifiedStartLineNumberOneIndexed":5,"modifiedEndLineNumberExclusiveOneIndexed":7,"addedLines":["import { motion, useMotionValue, useTransform, animate } from 'framer-motion';","import { useDrag } from '@use-gesture/react';"],"tokenizedAddedLines":[1000161,1000162]},{"originalStartLineNumberOneIndexed":23,"originalEndLineNumberExclusiveOneIndexed":24,"modifiedStartLineNumberOneIndexed":24,"modifiedEndLineNumberExclusiveOneIndexed":24},{"originalStartLineNumberOneIndexed":25,"originalEndLineNumberExclusiveOneIndexed":27,"modifiedStartLineNumberOneIndexed":25,"modifiedEndLineNumberExclusiveOneIndexed":26,"addedLines":["  const y = useMotionValue(0);"],"tokenizedAddedLines":[1000163]},{"originalStartLineNumberOneIndexed":30,"originalEndLineNumberExclusiveOneIndexed":34,"modifiedStartLineNumberOneIndexed":29,"modifiedEndLineNumberExclusiveOneIndexed":29},{"originalStartLineNumberOneIndexed":45,"originalEndLineNumberExclusiveOneIndexed":48,"modifiedStartLineNumberOneIndexed":40,"modifiedEndLineNumberExclusiveOneIndexed":40},{"originalStartLineNumberOneIndexed":51,"originalEndLineNumberExclusiveOneIndexed":51,"modifiedStartLineNumberOneIndexed":43,"modifiedEndLineNumberExclusiveOneIndexed":89,"addedLines":["","  // Drag handler","  const bind = useDrag(","    ({ down, movement: [, my], velocity: [, vy], direction: [, dy], cancel }) => {","      // Prevent dragging beyond bounds","      if (currentIndex === 0 && my > 0) {","        y.set(my * 0.2); // Rubber band effect at top","        return;","      }","      if (currentIndex === items.length - 1 && my < 0) {","        y.set(my * 0.2); // Rubber band effect at bottom","        return;","      }","","      if (down) {","        // While dragging, update position","        y.set(my);","      } else {","        // Released - determine if we should snap to next/previous","        const threshold = window.innerHeight * 0.2; // 20% of screen height","        const shouldNavigate = Math.abs(my) > threshold || Math.abs(vy) > 0.5;","","        if (shouldNavigate) {","          if (my < 0 && currentIndex < items.length - 1) {","            // Swiped up - go to next","            goToNext();","          } else if (my > 0 && currentIndex > 0) {","            // Swiped down - go to previous","            goToPrevious();","          }","        }","        ","        // Snap back to position","        animate(y, 0, {","          type: 'spring',","          stiffness: 300,","          damping: 30,","        });","      }","    },","    {","      axis: 'y',","      filterTaps: true,","      pointer: { touch: true },","    }","  );"],"tokenizedAddedLines":[2,1000164,1000165,1000166,1000167,1000168,1000169,1000170,36,1000171,1000172,1000170,36,2,1000173,1000174,1000175,63,1000176,1000177,1000178,2,1000179,1000180,1000181,1000182,1000183,1000184,1000185,1000186,1000187,1000188,1000189,1000190,1000191,1000192,1000193,1000194,36,1000195,1000196,1000197,1000198,1000199,37,161]},{"originalStartLineNumberOneIndexed":53,"originalEndLineNumberExclusiveOneIndexed":53,"modifiedStartLineNumberOneIndexed":91,"modifiedEndLineNumberExclusiveOneIndexed":92,"addedLines":["    e.preventDefault();"],"tokenizedAddedLines":[1000200]},{"originalStartLineNumberOneIndexed":65,"originalEndLineNumberExclusiveOneIndexed":92,"modifiedStartLineNumberOneIndexed":104,"modifiedEndLineNumberExclusiveOneIndexed":104},{"originalStartLineNumberOneIndexed":108,"originalEndLineNumberExclusiveOneIndexed":108,"modifiedStartLineNumberOneIndexed":120,"modifiedEndLineNumberExclusiveOneIndexed":125,"addedLines":["","  // Reset y position when index changes","  useEffect(() => {","    y.set(0);","  }, [currentIndex]);"],"tokenizedAddedLines":[2,1000201,70,1000202,1000203]},{"originalStartLineNumberOneIndexed":114,"originalEndLineNumberExclusiveOneIndexed":117,"modifiedStartLineNumberOneIndexed":131,"modifiedEndLineNumberExclusiveOneIndexed":131},{"originalStartLineNumberOneIndexed":121,"originalEndLineNumberExclusiveOneIndexed":124,"modifiedStartLineNumberOneIndexed":135,"modifiedEndLineNumberExclusiveOneIndexed":135},{"originalStartLineNumberOneIndexed":134,"originalEndLineNumberExclusiveOneIndexed":135,"modifiedStartLineNumberOneIndexed":145,"modifiedEndLineNumberExclusiveOneIndexed":146,"addedLines":["      {/* Draggable container with all videos */}"],"tokenizedAddedLines":[1000204]},{"originalStartLineNumberOneIndexed":136,"originalEndLineNumberExclusiveOneIndexed":147,"modifiedStartLineNumberOneIndexed":147,"modifiedEndLineNumberExclusiveOneIndexed":171,"addedLines":["        {...bind()}","        style={{ y }}","        className=\"absolute inset-0 touch-none\"","      >","        {/* Previous Video */}","        {currentIndex > 0 && (","          <div ","            className=\"absolute inset-0 w-full h-screen\"","            style={{ transform: 'translateY(-100%)' }}","          >","            <VideoPost ","              item={items[currentIndex - 1]} ","              isActive={false}","              onNext={goToNext}","              onPrevious={goToPrevious}","              onAddToFavorites={onAddToFavorites}","              onRemoveFromFavorites={onRemoveFromFavorites}","              isInFavorites={isInFavorites}","            />","          </div>","        )}","        ","        {/* Current Video */}","        <div className=\"absolute inset-0 w-full h-screen\">"],"tokenizedAddedLines":[1000205,1000206,1000207,122,1000208,1000209,1000210,1000211,1000212,104,1000213,1000214,1000215,1000216,1000217,1000218,1000219,1000220,1000221,154,1000222,1000188,1000223,1000224]},{"originalStartLineNumberOneIndexed":156,"originalEndLineNumberExclusiveOneIndexed":156,"modifiedStartLineNumberOneIndexed":180,"modifiedEndLineNumberExclusiveOneIndexed":199,"addedLines":["        </div>","","        {/* Next Video */}","        {currentIndex < items.length - 1 && (","          <div ","            className=\"absolute inset-0 w-full h-screen\"","            style={{ transform: 'translateY(100%)' }}","          >","            <VideoPost ","              item={items[currentIndex + 1]} ","              isActive={false}","              onNext={goToNext}","              onPrevious={goToPrevious}","              onAddToFavorites={onAddToFavorites}","              onRemoveFromFavorites={onRemoveFromFavorites}","              isInFavorites={isInFavorites}","            />","          </div>","        )}"],"tokenizedAddedLines":[155,2,1000225,1000226,1000210,1000211,1000227,104,1000213,1000228,1000215,1000216,1000217,1000218,1000219,1000220,1000221,154,1000222]},{"originalStartLineNumberOneIndexed":157,"originalEndLineNumberExclusiveOneIndexed":158,"modifiedStartLineNumberOneIndexed":200,"modifiedEndLineNumberExclusiveOneIndexed":200}],"gitInfo":{"noRepoFound":true},"kind":"KIND_MODIFIED"}