{"fsPath":"\\home\\hendo420\\soraFeed\\src\\lib\\api.ts","fileUuid":"c7bc1fa9-0790-42fb-9b44-12ff9b89884b","fileSizeBytes":2706,"numLines":97,"diffChanges":[{"originalStartLineNumberOneIndexed":3,"originalEndLineNumberExclusiveOneIndexed":4,"modifiedStartLineNumberOneIndexed":3,"modifiedEndLineNumberExclusiveOneIndexed":10,"addedLines":["export async function fetchFeed(limit: number = 20, cut: string = 'nf2_latest', cursor?: string): Promise<SoraFeedResponse> {","  // Use database for latest feed, Sora API for top feed","  if (cut === 'nf2_latest') {","    return fetchLatestFeedFromDatabase(limit, cursor);","  }","  ","  // For top feed, continue using Sora API"],"tokenizedAddedLines":[1000027,1000028,1000029,1000030,11,8,1000031]},{"originalStartLineNumberOneIndexed":27,"originalEndLineNumberExclusiveOneIndexed":27,"modifiedStartLineNumberOneIndexed":33,"modifiedEndLineNumberExclusiveOneIndexed":57,"addedLines":["","export async function fetchLatestFeedFromDatabase(limit: number = 20, cursor?: string): Promise<SoraFeedResponse> {","  const params = new URLSearchParams({","    limit: limit.toString(),","  });","  ","  if (cursor) {","    params.append('offset', cursor);","  }","  ","  const response = await fetch(`/api/feed/latest?${params.toString()}`, {","    cache: 'no-store',","    headers: {","      'Content-Type': 'application/json',","    },","  });","","  if (!response.ok) {","    const errorData = await response.json().catch(() => ({}));","    throw new Error(errorData.error || `Failed to fetch latest feed from database: ${response.status}`);","  }","","  return response.json();","}"],"tokenizedAddedLines":[2,1000032,4,5,7,8,9,1000033,11,8,1000034,13,14,15,16,7,2,17,18,1000035,11,2,20,21]}],"gitInfo":{"noRepoFound":true},"kind":"KIND_MODIFIED"}