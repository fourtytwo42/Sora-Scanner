{"fsPath":"\\home\\hendo420\\soraFeed\\src\\lib\\db.ts","fileUuid":"24a4a44d-df05-47e0-ae97-08b28abbcc51","fileSizeBytes":3480,"numLines":117,"diffChanges":[{"originalStartLineNumberOneIndexed":1,"originalEndLineNumberExclusiveOneIndexed":4,"modifiedStartLineNumberOneIndexed":1,"modifiedEndLineNumberExclusiveOneIndexed":11,"addedLines":["let Pool: any;","let pool: any;","","// Dynamically import pg only when needed (server-side)","async function getPool() {","  if (!pool && typeof window === 'undefined') {","    try {","      const pg = await import('pg');","      Pool = pg.Pool;","      pool = new Pool({"],"tokenizedAddedLines":[1000075,1000076,2,1000077,1000078,1000079,1000080,1000081,1000082,1000083]},{"originalStartLineNumberOneIndexed":13,"originalEndLineNumberExclusiveOneIndexed":13,"modifiedStartLineNumberOneIndexed":20,"modifiedEndLineNumberExclusiveOneIndexed":27,"addedLines":["    } catch (error) {","      console.error('Failed to load pg module:', error);","      throw new Error('PostgreSQL module not available. Run: npm install pg @types/pg');","    }","  }","  return pool;","}"],"tokenizedAddedLines":[1000084,1000085,1000086,70,23,1000087,24]},{"originalStartLineNumberOneIndexed":17,"originalEndLineNumberExclusiveOneIndexed":17,"modifiedStartLineNumberOneIndexed":31,"modifiedEndLineNumberExclusiveOneIndexed":32,"addedLines":["    const pool = await getPool();"],"tokenizedAddedLines":[1000088]},{"originalStartLineNumberOneIndexed":28,"originalEndLineNumberExclusiveOneIndexed":28,"modifiedStartLineNumberOneIndexed":43,"modifiedEndLineNumberExclusiveOneIndexed":44,"addedLines":["  const pool = await getPool();"],"tokenizedAddedLines":[1000089]},{"originalStartLineNumberOneIndexed":99,"originalEndLineNumberExclusiveOneIndexed":100,"modifiedStartLineNumberOneIndexed":115,"modifiedEndLineNumberExclusiveOneIndexed":116,"addedLines":["export default { getPool };"],"tokenizedAddedLines":[1000090]}],"gitInfo":{"noRepoFound":true},"kind":"KIND_MODIFIED"}