{"fsPath":"\\home\\hendo420\\soraFeed\\src\\components\\VideoPost.tsx","fileUuid":"6ba43bf5-e610-491d-b501-6df03ad0be27","fileSizeBytes":52101,"numLines":1259,"diffChanges":[{"originalStartLineNumberOneIndexed":41,"originalEndLineNumberExclusiveOneIndexed":41,"modifiedStartLineNumberOneIndexed":41,"modifiedEndLineNumberExclusiveOneIndexed":43,"addedLines":["  const [remixScrollDirection, setRemixScrollDirection] = useState<'left' | 'right' | null>(null);","  const [targetRemixIndex, setTargetRemixIndex] = useState<number | null>(null);"],"tokenizedAddedLines":[1000824,1000825]},{"originalStartLineNumberOneIndexed":42,"originalEndLineNumberExclusiveOneIndexed":42,"modifiedStartLineNumberOneIndexed":44,"modifiedEndLineNumberExclusiveOneIndexed":46,"addedLines":["  const prevRemixVideoRef = useRef<HTMLVideoElement>(null);","  const nextRemixVideoRef = useRef<HTMLVideoElement>(null);"],"tokenizedAddedLines":[1000826,1000827]},{"originalStartLineNumberOneIndexed":73,"originalEndLineNumberExclusiveOneIndexed":73,"modifiedStartLineNumberOneIndexed":77,"modifiedEndLineNumberExclusiveOneIndexed":106,"addedLines":["","  // Listen to x motion value changes to detect remix scroll direction","  useEffect(() => {","    if (!hasRemixes) return;","    ","    const unsubscribe = x.on('change', (latest) => {","      if (Math.abs(latest) > 50) { // Threshold to detect intentional scrolling","        if (latest < -50 && currentRemixIndex < remixFeed.length) {","          // Scrolling left to next remix","          if (remixScrollDirection !== 'left' || targetRemixIndex !== currentRemixIndex + 1) {","            setRemixScrollDirection('left');","            setTargetRemixIndex(currentRemixIndex + 1);","          }","        } else if (latest > 50 && currentRemixIndex > 0) {","          // Scrolling right to previous remix","          if (remixScrollDirection !== 'right' || targetRemixIndex !== currentRemixIndex - 1) {","            setRemixScrollDirection('right');","            setTargetRemixIndex(currentRemixIndex - 1);","          }","        }","      } else if (Math.abs(latest) < 10) {","        // Reset when back to center","        setRemixScrollDirection(null);","        setTargetRemixIndex(null);","      }","    });","","    return unsubscribe;","  }, [x, currentRemixIndex, remixFeed.length, remixScrollDirection, targetRemixIndex, hasRemixes]);"],"tokenizedAddedLines":[2,1000828,63,1000829,82,1000830,1000831,1000832,1000833,1000834,1000835,1000836,220,1000837,1000838,1000839,1000840,1000841,220,141,1000842,1000843,1000844,1000845,120,111,2,1000846,1000847]},{"originalStartLineNumberOneIndexed":77,"originalEndLineNumberExclusiveOneIndexed":77,"modifiedStartLineNumberOneIndexed":110,"modifiedEndLineNumberExclusiveOneIndexed":112,"addedLines":["    setRemixScrollDirection(null);","    setTargetRemixIndex(null);"],"tokenizedAddedLines":[1000848,1000849]},{"originalStartLineNumberOneIndexed":131,"originalEndLineNumberExclusiveOneIndexed":133,"modifiedStartLineNumberOneIndexed":166,"modifiedEndLineNumberExclusiveOneIndexed":169,"addedLines":["    // Play video if it's active OR if it's the target video during main scroll","    // Also pause current video if we're scrolling to a different remix","    const shouldPlay = (isActive || (isTargetVideo && scrollDirection)) && !targetRemixIndex;"],"tokenizedAddedLines":[1000850,1000851,1000852]},{"originalStartLineNumberOneIndexed":180,"originalEndLineNumberExclusiveOneIndexed":180,"modifiedStartLineNumberOneIndexed":216,"modifiedEndLineNumberExclusiveOneIndexed":258,"addedLines":["","  // Control adjacent remix videos based on horizontal scroll direction","  useEffect(() => {","    if (!hasRemixes || !isActive) return;","","    const prevVideo = prevRemixVideoRef.current;","    const nextVideo = nextRemixVideoRef.current;","","    // Handle previous remix video","    if (prevVideo) {","      if (remixScrollDirection === 'right' && targetRemixIndex === currentRemixIndex - 1) {","        // Scrolling to previous remix - start playing it","        if (prevVideo.paused) {","          console.log('▶️ Starting previous remix video during scroll');","          prevVideo.play().catch(() => console.log('❌ Previous remix play failed'));","        }","      } else {","        // Not scrolling to previous remix - pause it","        if (!prevVideo.paused) {","          console.log('⏸️ Pausing previous remix video');","          prevVideo.pause();","        }","      }","    }","","    // Handle next remix video","    if (nextVideo) {","      if (remixScrollDirection === 'left' && targetRemixIndex === currentRemixIndex + 1) {","        // Scrolling to next remix - start playing it","        if (nextVideo.paused) {","          console.log('▶️ Starting next remix video during scroll');","          nextVideo.play().catch(() => console.log('❌ Next remix play failed'));","        }","      } else {","        // Not scrolling to next remix - pause it","        if (!nextVideo.paused) {","          console.log('⏸️ Pausing next remix video');","          nextVideo.pause();","        }","      }","    }","  }, [hasRemixes, isActive, remixScrollDirection, targetRemixIndex, currentRemixIndex]);"],"tokenizedAddedLines":[2,1000853,63,1000854,2,1000855,1000856,2,1000857,1000858,1000859,1000860,1000861,1000862,1000863,141,144,1000864,1000865,1000866,1000867,141,120,51,2,1000868,1000869,1000870,1000871,1000872,1000873,1000874,141,144,1000875,1000876,1000877,1000878,141,120,51,1000879]},{"originalStartLineNumberOneIndexed":643,"originalEndLineNumberExclusiveOneIndexed":643,"modifiedStartLineNumberOneIndexed":721,"modifiedEndLineNumberExclusiveOneIndexed":722,"addedLines":["                ref={prevRemixVideoRef}"],"tokenizedAddedLines":[1000880]},{"originalStartLineNumberOneIndexed":1132,"originalEndLineNumberExclusiveOneIndexed":1132,"modifiedStartLineNumberOneIndexed":1211,"modifiedEndLineNumberExclusiveOneIndexed":1212,"addedLines":["                ref={nextRemixVideoRef}"],"tokenizedAddedLines":[1000881]}],"gitInfo":{"noRepoFound":true},"kind":"KIND_MODIFIED"}