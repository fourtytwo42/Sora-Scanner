{"fsPath":"\\home\\hendo420\\soraFeed\\src\\components\\VideoPost.tsx","fileUuid":"a2f4e318-bdcd-4e88-9adc-61fdb4238007","fileSizeBytes":29663,"numLines":844,"diffChanges":[{"originalStartLineNumberOneIndexed":255,"originalEndLineNumberExclusiveOneIndexed":256,"modifiedStartLineNumberOneIndexed":255,"modifiedEndLineNumberExclusiveOneIndexed":256,"addedLines":["  // Unified navigation with smooth animation matching main feed"],"tokenizedAddedLines":[1000592]},{"originalStartLineNumberOneIndexed":260,"originalEndLineNumberExclusiveOneIndexed":260,"modifiedStartLineNumberOneIndexed":260,"modifiedEndLineNumberExclusiveOneIndexed":261,"addedLines":["      // Use the same smooth spring animation as main feed"],"tokenizedAddedLines":[1000593]},{"originalStartLineNumberOneIndexed":263,"originalEndLineNumberExclusiveOneIndexed":265,"modifiedStartLineNumberOneIndexed":264,"modifiedEndLineNumberExclusiveOneIndexed":266,"addedLines":["        stiffness: 400, // Match main feed animation","        damping: 40,    // Match main feed animation"],"tokenizedAddedLines":[1000594,1000595]},{"originalStartLineNumberOneIndexed":267,"originalEndLineNumberExclusiveOneIndexed":268,"modifiedStartLineNumberOneIndexed":268,"modifiedEndLineNumberExclusiveOneIndexed":269,"addedLines":["          x.set(0); // Reset position after animation"],"tokenizedAddedLines":[1000596]},{"originalStartLineNumberOneIndexed":272,"originalEndLineNumberExclusiveOneIndexed":272,"modifiedStartLineNumberOneIndexed":273,"modifiedEndLineNumberExclusiveOneIndexed":274,"addedLines":["      // Immediate change (for manual drag completion)"],"tokenizedAddedLines":[1000597]},{"originalStartLineNumberOneIndexed":339,"originalEndLineNumberExclusiveOneIndexed":340,"modifiedStartLineNumberOneIndexed":341,"modifiedEndLineNumberExclusiveOneIndexed":342,"addedLines":["  // Unified drag handler matching main feed behavior"],"tokenizedAddedLines":[1000598]},{"originalStartLineNumberOneIndexed":341,"originalEndLineNumberExclusiveOneIndexed":354,"modifiedStartLineNumberOneIndexed":343,"modifiedEndLineNumberExclusiveOneIndexed":376,"addedLines":["    ({ down, movement: [mx], velocity: [vx] }) => {","      if (down) {","        // While dragging, update position smoothly","        x.set(mx);","      } else {","        // Released - determine if we should snap to next/previous","        const threshold = window.innerWidth * 0.15; // Match main feed threshold","        const shouldNavigate = Math.abs(mx) > threshold || Math.abs(vx) > 0.3;","","        if (shouldNavigate) {","          if (mx < 0 && currentRemixIndex < getAllItems().length - 1) {","            // Swiped left - animate to next then snap (manual drag, so no double animation)","            animate(x, -window.innerWidth, {","              type: 'spring',","              stiffness: 400, // Match main feed","              damping: 40,    // Match main feed","              onComplete: () => goToNextRemix(false) // false = no animation, user already dragged","            });","          } else if (mx > 0 && currentRemixIndex > 0) {","            // Swiped right - animate to previous then snap (manual drag, so no double animation)","            animate(x, window.innerWidth, {","              type: 'spring',","              stiffness: 400, // Match main feed","              damping: 40,    // Match main feed","              onComplete: () => goToPreviousRemix(false) // false = no animation, user already dragged","            });","          } else {","            // Snap back to position if can't navigate","            animate(x, 0, {","              type: 'spring',","              stiffness: 300, // Match main feed snap-back","              damping: 30,    // Match main feed snap-back","            });"],"tokenizedAddedLines":[1000599,1000600,1000601,281,279,1000602,1000603,1000604,2,1000605,1000606,1000607,1000608,209,1000609,1000610,1000611,171,1000612,1000613,1000614,209,1000609,1000610,1000615,171,217,1000616,1000617,209,1000618,1000619,171]},{"originalStartLineNumberOneIndexed":356,"originalEndLineNumberExclusiveOneIndexed":362,"modifiedStartLineNumberOneIndexed":378,"modifiedEndLineNumberExclusiveOneIndexed":385,"addedLines":["          // Snap back to position","          animate(x, 0, {","            type: 'spring',","            stiffness: 300, // Match main feed snap-back","            damping: 30,    // Match main feed snap-back","          });","        }"],"tokenizedAddedLines":[1000620,1000621,1000622,1000623,1000624,1000625,178]},{"originalStartLineNumberOneIndexed":370,"originalEndLineNumberExclusiveOneIndexed":370,"modifiedStartLineNumberOneIndexed":393,"modifiedEndLineNumberExclusiveOneIndexed":429,"addedLines":["  ","  // ===== KEYBOARD NAVIGATION =====","  ","  // Handle keyboard navigation for remixes (matching main feed pattern)","  useEffect(() => {","    const handleKeyDown = (e: KeyboardEvent) => {","      if (!isActive || scrollState.isScrolling) return;","      ","      // Don't trigger navigation if user is typing in an input field","      const activeElement = document.activeElement;","      const isTyping = activeElement && (","        activeElement.tagName === 'INPUT' || ","        activeElement.tagName === 'TEXTAREA' ||","        (activeElement as HTMLElement).isContentEditable","      );","      ","      if (isTyping) return;","      ","      if (e.key === 'ArrowLeft' && currentRemixIndex > 0) {","        e.preventDefault();","        setScrollState(prev => ({ ...prev, isScrolling: true }));","        goToPreviousRemix(true); // Use animated navigation","        setTimeout(() => setScrollState(prev => ({ ...prev, isScrolling: false })), 600);","      } else if (e.key === 'ArrowRight' && currentRemixIndex < getAllItems().length - 1) {","        e.preventDefault();","        setScrollState(prev => ({ ...prev, isScrolling: true }));","        goToNextRemix(true); // Use animated navigation","        setTimeout(() => setScrollState(prev => ({ ...prev, isScrolling: false })), 600);","      }","    };","","    window.addEventListener('keydown', handleKeyDown);","    return () => {","      window.removeEventListener('keydown', handleKeyDown);","    };","  }, [isActive, scrollState.isScrolling, currentRemixIndex, getAllItems, goToPreviousRemix, goToNextRemix]);"],"tokenizedAddedLines":[47,1000626,47,1000627,158,1000628,1000629,140,1000630,1000631,1000632,1000633,1000634,1000635,1000636,140,1000637,140,1000638,1000639,1000640,1000641,1000642,1000643,1000639,1000640,1000644,1000642,150,330,2,1000645,327,1000646,330,1000647]}],"gitInfo":{"noRepoFound":true},"kind":"KIND_MODIFIED"}