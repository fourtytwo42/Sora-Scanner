{"fsPath":"\\home\\hendo420\\soraFeed\\src\\components\\VideoPost.tsx","fileUuid":"b0d15c5b-d827-40ac-ad17-d6db0d03bbb0","fileSizeBytes":43336,"numLines":1098,"diffChanges":[{"originalStartLineNumberOneIndexed":37,"originalEndLineNumberExclusiveOneIndexed":37,"modifiedStartLineNumberOneIndexed":37,"modifiedEndLineNumberExclusiveOneIndexed":38,"addedLines":["  const [displayedVideoUrl, setDisplayedVideoUrl] = useState<string>('');"],"tokenizedAddedLines":[1000716]},{"originalStartLineNumberOneIndexed":55,"originalEndLineNumberExclusiveOneIndexed":55,"modifiedStartLineNumberOneIndexed":56,"modifiedEndLineNumberExclusiveOneIndexed":70,"addedLines":["","  // Initialize displayedVideoUrl on mount and when it's reset","  useEffect(() => {","    if (currentVideoUrl && !displayedVideoUrl) {","      // Preload the video first","      const preloadVideo = document.createElement('video');","      preloadVideo.src = currentVideoUrl;","      preloadVideo.preload = 'auto';","      ","      preloadVideo.addEventListener('canplay', () => {","        setDisplayedVideoUrl(currentVideoUrl);","      }, { once: true });","    }","  }, [currentVideoUrl, displayedVideoUrl]);"],"tokenizedAddedLines":[2,1000717,57,1000718,1000719,1000720,1000721,1000722,92,1000723,1000724,1000725,45,1000726]},{"originalStartLineNumberOneIndexed":79,"originalEndLineNumberExclusiveOneIndexed":79,"modifiedStartLineNumberOneIndexed":94,"modifiedEndLineNumberExclusiveOneIndexed":95,"addedLines":["    setDisplayedVideoUrl(''); // Reset to allow new video to load"],"tokenizedAddedLines":[1000727]},{"originalStartLineNumberOneIndexed":170,"originalEndLineNumberExclusiveOneIndexed":173,"modifiedStartLineNumberOneIndexed":186,"modifiedEndLineNumberExclusiveOneIndexed":199,"addedLines":["    if (!video || !currentVideoUrl) return;","","    // Only update if the URL has actually changed","    if (currentVideoUrl !== displayedVideoUrl) {","      // Create a new video element to preload the next video","      const preloadVideo = document.createElement('video');","      preloadVideo.src = currentVideoUrl;","      preloadVideo.preload = 'auto';","      ","      preloadVideo.addEventListener('canplay', () => {","        // New video is ready, now update the displayed URL","        if (currentVideoUrl) {","          setDisplayedVideoUrl(currentVideoUrl);"],"tokenizedAddedLines":[1000728,2,1000729,1000730,1000731,1000720,1000721,1000722,92,1000723,1000732,1000733,1000734]},{"originalStartLineNumberOneIndexed":176,"originalEndLineNumberExclusiveOneIndexed":176,"modifiedStartLineNumberOneIndexed":202,"modifiedEndLineNumberExclusiveOneIndexed":209,"addedLines":["            video.play().catch(() => {","              setIsPlaying(false);","            });","          }","        }","      }, { once: true });","    } else if (isActive && isPlaying) {"],"tokenizedAddedLines":[1000735,1000736,218,228,175,1000725,1000737]},{"originalStartLineNumberOneIndexed":181,"originalEndLineNumberExclusiveOneIndexed":182,"modifiedStartLineNumberOneIndexed":214,"modifiedEndLineNumberExclusiveOneIndexed":215,"addedLines":["  }, [currentRemixIndex, currentVideoUrl, displayedVideoUrl, isActive, isPlaying]);"],"tokenizedAddedLines":[1000738]},{"originalStartLineNumberOneIndexed":621,"originalEndLineNumberExclusiveOneIndexed":622,"modifiedStartLineNumberOneIndexed":654,"modifiedEndLineNumberExclusiveOneIndexed":655,"addedLines":["                  src={displayedVideoUrl}"],"tokenizedAddedLines":[1000739]},{"originalStartLineNumberOneIndexed":652,"originalEndLineNumberExclusiveOneIndexed":653,"modifiedStartLineNumberOneIndexed":685,"modifiedEndLineNumberExclusiveOneIndexed":686,"addedLines":["                  {displayedVideoUrl && <source src={displayedVideoUrl} type=\"video/mp4\" />}"],"tokenizedAddedLines":[1000740]}],"gitInfo":{"noRepoFound":true},"kind":"KIND_MODIFIED"}