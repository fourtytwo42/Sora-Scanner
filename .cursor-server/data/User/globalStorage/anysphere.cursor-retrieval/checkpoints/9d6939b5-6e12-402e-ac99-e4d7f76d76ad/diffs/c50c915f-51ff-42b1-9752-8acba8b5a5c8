{"fsPath":"\\home\\hendo420\\soraFeed\\src\\components\\VideoPost.tsx","fileUuid":"c50c915f-51ff-42b1-9752-8acba8b5a5c8","fileSizeBytes":37850,"numLines":974,"diffChanges":[{"originalStartLineNumberOneIndexed":468,"originalEndLineNumberExclusiveOneIndexed":469,"modifiedStartLineNumberOneIndexed":468,"modifiedEndLineNumberExclusiveOneIndexed":469,"addedLines":["  // Download video function - uses Sora API for watermark-free downloads"],"tokenizedAddedLines":[1000644]},{"originalStartLineNumberOneIndexed":471,"originalEndLineNumberExclusiveOneIndexed":473,"modifiedStartLineNumberOneIndexed":471,"modifiedEndLineNumberExclusiveOneIndexed":472,"addedLines":["    const videoId = currentItem.post.id;"],"tokenizedAddedLines":[1000645]},{"originalStartLineNumberOneIndexed":474,"originalEndLineNumberExclusiveOneIndexed":476,"modifiedStartLineNumberOneIndexed":473,"modifiedEndLineNumberExclusiveOneIndexed":475,"addedLines":["    if (!videoId) {","      console.error('No video ID found for download');"],"tokenizedAddedLines":[1000646,1000647]},{"originalStartLineNumberOneIndexed":480,"originalEndLineNumberExclusiveOneIndexed":481,"modifiedStartLineNumberOneIndexed":479,"modifiedEndLineNumberExclusiveOneIndexed":480,"addedLines":["      console.log('ðŸ”½ Starting watermark-free video download for:', videoId);"],"tokenizedAddedLines":[1000648]},{"originalStartLineNumberOneIndexed":482,"originalEndLineNumberExclusiveOneIndexed":484,"modifiedStartLineNumberOneIndexed":481,"modifiedEndLineNumberExclusiveOneIndexed":483,"addedLines":["      // Fetch the video from our API endpoint (which uses Sora API)","      const response = await fetch(`/api/video/${videoId}/download`);"],"tokenizedAddedLines":[1000649,1000650]},{"originalStartLineNumberOneIndexed":498,"originalEndLineNumberExclusiveOneIndexed":500,"modifiedStartLineNumberOneIndexed":497,"modifiedEndLineNumberExclusiveOneIndexed":498,"addedLines":["      link.download = `sora-${username}-${timestamp}.mp4`;"],"tokenizedAddedLines":[1000651]},{"originalStartLineNumberOneIndexed":509,"originalEndLineNumberExclusiveOneIndexed":510,"modifiedStartLineNumberOneIndexed":507,"modifiedEndLineNumberExclusiveOneIndexed":508,"addedLines":["      console.log('âœ… Watermark-free video download completed');"],"tokenizedAddedLines":[1000652]},{"originalStartLineNumberOneIndexed":513,"originalEndLineNumberExclusiveOneIndexed":514,"modifiedStartLineNumberOneIndexed":511,"modifiedEndLineNumberExclusiveOneIndexed":515,"addedLines":["      // Fallback: try direct download from video URL","      const videoUrl = currentItem.post.attachments[0]?.encodings?.source?.path || ","                       currentItem.post.attachments[0]?.encodings?.md?.path;","      if (videoUrl) {"],"tokenizedAddedLines":[1000653,1000654,1000655,1000656]},{"originalStartLineNumberOneIndexed":515,"originalEndLineNumberExclusiveOneIndexed":515,"modifiedStartLineNumberOneIndexed":516,"modifiedEndLineNumberExclusiveOneIndexed":517,"addedLines":["      }"],"tokenizedAddedLines":[83]}],"gitInfo":{"noRepoFound":true},"kind":"KIND_MODIFIED"}