{"fsPath":"\\home\\hendo420\\soraFeed\\src\\components\\FeedLoader.tsx","fileUuid":"871459d7-c7c7-4b25-b974-93fa3f75652c","fileSizeBytes":2681,"numLines":87,"diffChanges":[{"originalStartLineNumberOneIndexed":1,"originalEndLineNumberExclusiveOneIndexed":1,"modifiedStartLineNumberOneIndexed":1,"modifiedEndLineNumberExclusiveOneIndexed":88,"addedLines":["'use client';","","import { useState, useEffect } from 'react';","import { SoraFeedItem } from '@/types/sora';","import { fetchFeed } from '@/lib/api';","import VideoFeed from './VideoFeed';","import RefreshButton from './RefreshButton';","import { mockFeedData } from '@/lib/mockData';","","export default function FeedLoader() {","  const [items, setItems] = useState<SoraFeedItem[]>([]);","  const [loading, setLoading] = useState(true);","  const [error, setError] = useState<string | null>(null);","","  const loadFeed = async () => {","    try {","      setLoading(true);","      setError(null);","      console.log('üîÑ Loading real feed data...');","      ","      const data = await fetchFeed();","      console.log('‚úÖ Loaded', data.items?.length || 0, 'feed items');","      ","      if (data.items && data.items.length > 0) {","        setItems(data.items);","      } else {","        console.warn('‚ö†Ô∏è No items in feed response, using mock data');","        setItems(mockFeedData.items);","      }","    } catch (err) {","      console.error('‚ùå Failed to load feed:', err);","      setError(err instanceof Error ? err.message : 'Failed to load feed');","      ","      // Fallback to mock data on error","      console.log('üîÑ Falling back to mock data');","      setItems(mockFeedData.items);","    } finally {","      setLoading(false);","    }","  };","","  useEffect(() => {","    loadFeed();","  }, []);","","  if (loading) {","    return (","      <div className=\"w-full h-screen bg-black flex items-center justify-center\">","        <div className=\"text-center\">","          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4\"></div>","          <p className=\"text-white text-lg\">Loading Sora Feed...</p>","        </div>","      </div>","    );","  }","","  if (error && items.length === 0) {","    return (","      <div className=\"w-full h-screen bg-black flex items-center justify-center\">","        <div className=\"text-center max-w-md px-4\">","          <div className=\"text-red-500 text-6xl mb-4\">‚ö†Ô∏è</div>","          <h2 className=\"text-white text-xl font-semibold mb-2\">Failed to Load Feed</h2>","          <p className=\"text-white/70 text-sm mb-4\">{error}</p>","          <button ","            onClick={() => window.location.reload()}","            className=\"px-6 py-2 bg-white text-black rounded-full hover:bg-gray-200 transition-colors\"","          >","            Try Again","          </button>","        </div>","      </div>","    );","  }","","  return (","    <>","      {error && (","        <div className=\"fixed top-4 left-4 right-20 bg-yellow-500/90 text-black px-4 py-2 rounded-lg z-50 text-sm\">","          ‚ö†Ô∏è Using fallback data: {error}","        </div>","      )}","      <RefreshButton onRefresh={loadFeed} />","      <VideoFeed items={items} />","    </>","  );","}",""],"tokenizedAddedLines":[1000000,1000001,1000002,1000003,1000004,1000005,1000006,1000007,1000001,1000008,1000009,1000010,1000011,1000001,1000012,1000013,1000014,1000015,1000016,1000017,1000018,1000019,1000017,1000020,1000021,1000022,1000023,1000024,1000025,1000026,1000027,1000028,1000017,1000029,1000030,1000031,1000032,1000033,1000034,1000035,1000001,1000036,1000037,1000038,1000001,1000039,1000040,1000041,1000042,1000043,1000044,1000045,1000046,1000047,1000048,1000001,1000049,1000040,1000041,1000050,1000051,1000052,1000053,1000054,1000055,1000056,1000057,1000058,1000059,1000045,1000046,1000047,1000048,1000001,1000060,1000061,1000062,1000063,1000064,1000045,1000065,1000066,1000067,1000068,1000069,1000070,1000001]}],"gitInfo":{"noRepoFound":true},"kind":"KIND_ADDED"}